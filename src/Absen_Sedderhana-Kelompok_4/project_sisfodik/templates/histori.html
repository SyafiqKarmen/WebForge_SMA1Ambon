{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Histori Kehadiran</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[linear-gradient(180deg,rgba(155,27,48,1)_0%,rgba(160,0,0,1)_100%)] w-full min-h-screen relative">

  <!-- Left Sidebar -->
  <div class="absolute top-0 left-0 w-72 h-full bg-[#243a73] flex flex-col items-center py-8">
    <h2 class="text-white text-xl font-bold mb-12">HISTORI KEHADIRAN</h2>
    
    <div class="w-[95%] ml-4">
      <!-- ABSEN link -->
      <a href="{% url 'dashboard' %}" class="block bg-[#243A73] rounded-l-full px-4 py-2 mb-4 flex items-center gap-2 text-[#FFEA00] hover:opacity-80">
        <img src="{% static 'img/ABSEN.png' %}" class="w-4 h-4"/>
        ABSEN
      </a>

      <!-- HISTORI link -->
      <a href="{% url 'histori' %}" class="block bg-[#9b1b30] rounded-l-full px-4 py-2 mb-4 flex items-center gap-2 text-white hover:opacity-50">
        <img src="{% static 'img/HISTORI.png' %}" class="w-4 h-4"/>
        HISTORI
      </a>

      <!-- LOGOUT link -->
      <a href="{% url 'logout' %}" class="block bg-[#243A73] rounded-l-full px-4 py-2 mb-4 flex items-center gap-2 text-[#FFEA00] hover:opacity-80">
        <img src="{% static 'img/LOGOUT.png' %}" class="w-4 h-4 rotate-180"/>
        LOGOUT
      </a>
    </div>

    <!-- User Info -->
    <div class="mt-auto text-white text-base font-normal pr-20">
      <p>USERNAME : {{ username }}</p>
      <p>KELAS : {{ kelas }}</p>
      <p>LOKASI : {{ lokasi }}</p>
      <p class="inline mt-4">SMAN 1 AMBON</p>
      <img src="{% static 'img/SMANSA.png' %}" class="inline w-5 h-5"/>
    </div>
  </div>

  <!-- Main Content -->
  <div class="ml-72 w-[calc(100%-18rem)] h-full p-8 relative">
    <h1 class="text-white text-xl mb-6 [font-family:'Poly-Regular',Helvetica] font-normal tracking-[0] leading-[30px]">
      HISTORI KEHADIRAN 2025
    </h1>

    <!-- Histori Table / List -->
    <div class="bg-white rounded-2xl p-6 space-y-4">
      {% for record in attendance_records %}
      <div class="flex justify-between items-center border-b border-gray-200 py-2">
        <div>
          <p class="text-lg font-bold">{{ record.date }}</p>
          <p class="text-gray-500">Mata Pelajaran: {{ record.subject }}</p>
          <p class="text-gray-500">Status: {{ record.status }}</p>
        </div>
      </div>
      {% empty %}
      <p class="text-gray-200">Belum ada histori absen.</p>
      {% endfor %}
    </div>
  </div>
  
</body>
</html>
